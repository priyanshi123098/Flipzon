{"ast":null,"code":"var _jsxFileName = \"/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/Main/index.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport styles from \"./styles.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axios from 'axios';\nconst Main = () => {\n  const [user, setUser] = useState(null);\n  const [reviews, setReviews] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const decoded = jwtDecode(token);\n      setUser(decoded);\n      fetchReviews(decoded._id); // Call fetchReviews after setting the user\n    } else {\n      history.push('/login'); // Redirect to login page if no token is found\n    }\n  }, []);\n  const fetchReviews = async userID => {\n    try {\n      const url = `${process.env.REACT_APP_API_URL}/api/users/reviews/${userID}`;\n      const {\n        data\n      } = await axios.get(url);\n      setReviews(data);\n    } catch (error) {\n      console.error(\"Error fetching reviews:\", error);\n      setMessage(\"Error fetching reviews\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.main_container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: styles.navbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Flipzon\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.nav_links,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }, \"Dashboard\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/items\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"Items\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/cart\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }\n  }, \"My Cart\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/order-history\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, \"Order History\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/deliver-item\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Deliver Item\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/support\",\n    className: styles.nav_link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, \"Support\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.white_btn,\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, user ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"Welcome, \", user.firstName, \" \", user.lastName, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 71\n    }\n  }), \"Your details are as follows:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"First Name: \", user.firstName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Last Name: \", user.lastName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Email: \", user.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"Age: \", user.age), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Contact Number: \", user.contactNumber), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Seller Reviews: \"), message && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, message), reviews.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, \"No reviews found\") : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, reviews.map((review, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, review)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"Loading user information...\")));\n};\nexport default Main;","map":{"version":3,"names":["React","useEffect","useState","styles","Link","useNavigate","jwtDecode","axios","Main","user","setUser","reviews","setReviews","message","setMessage","history","useHistory","token","localStorage","getItem","decoded","fetchReviews","_id","push","userID","url","process","env","REACT_APP_API_URL","data","get","error","console","handleLogout","removeItem","window","location","reload","createElement","className","main_container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","navbar","nav_links","to","nav_link","white_btn","onClick","content","firstName","lastName","email","age","contactNumber","length","map","review","index","key"],"sources":["/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/Main/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from \"./styles.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axios from 'axios';\n\nconst Main = () => {\n\tconst [user, setUser] = useState(null);\n    const [reviews, setReviews] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const history = useHistory();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n            const decoded = jwtDecode(token);\n            setUser(decoded);\n            fetchReviews(decoded._id); // Call fetchReviews after setting the user\n        } else {\n            history.push('/login'); // Redirect to login page if no token is found\n        }\n    }, []);\n    const fetchReviews = async (userID) => {\n        try {\n            const url = `${process.env.REACT_APP_API_URL}/api/users/reviews/${userID}`;\n            const { data } = await axios.get(url);\n            setReviews(data);\n        } catch (error) {\n            console.error(\"Error fetching reviews:\", error);\n            setMessage(\"Error fetching reviews\");\n        }\n    };\n\tconst handleLogout = () => {\n\t\tlocalStorage.removeItem(\"token\");\n\t\twindow.location.reload();\n\t};\n\n\treturn (\n\t\t<div className={styles.main_container}>\n            <nav className={styles.navbar}>\n                <h1>Flipzon</h1>\n                <div className={styles.nav_links}>\n\t\t\t\t\t<Link to=\"/\" className={styles.nav_link}>Dashboard</Link>\n                    <Link to=\"/items\" className={styles.nav_link}>Items</Link>\n                    <Link to=\"/cart\" className={styles.nav_link}>My Cart</Link>\n                    <Link to=\"/order-history\" className={styles.nav_link}>Order History</Link>\n                    <Link to=\"/deliver-item\" className={styles.nav_link}>Deliver Item</Link>\n                    <Link to=\"/support\" className={styles.nav_link}>Support</Link>\n                </div>\n                <button className={styles.white_btn} onClick={handleLogout}>\n                    Logout\n                </button>\n            </nav>\n\t\t\t<div className={styles.content}>\n                {user ? (\n                    <div>\n                        <h2>Welcome, {user.firstName} {user.lastName} <br></br>\n\t\t\t\t\t\t\tYour details are as follows:\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p>First Name: {user.firstName}</p>\n\t\t\t\t\t\t<p>Last Name: {user.lastName}</p>\n                        <p>Email: {user.email}</p>\n                        <p>Age: {user.age}</p>\n                        <p>Contact Number: {user.contactNumber}</p>\n\t\t\t\t\t\t<p>Seller Reviews: </p>\n                        {message && <p>{message}</p>}\n                        {reviews.length === 0 ? (\n                            <p>No reviews found</p>\n                        ) : (\n                            <ul>\n                                {reviews.map((review, index) => (\n                                    <li key={index}>{review}</li>\n                                ))}\n                            </ul>\n                        )}\n                    </div>\n                ) : (\n                    <p>Loading user information...</p>\n                )}\n            </div>\n        </div>\n\t);\n};\n\nexport default Main;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}