{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import styles from \"./styles.module.css\";\n// import { Link } from \"react-router-dom\";\n// import { jwtDecode } from \"jwt-decode\";\n\n// const Items = () => {\n//     const [item, setItem] = useState({\n//         name: \"\",\n//         price: \"\",\n//         description: \"\",\n//         category: \"\",\n//     });\n//     const [items, setItems] = useState([]); // Initialize as an empty array\n//     const [message, setMessage] = useState(\"\");\n//     const [user, setUser] = useState(null);\n\n//     useEffect(() => {\n//         const token = localStorage.getItem(\"token\");\n//         if (token) {\n//             const decoded =  jwtDecode(token);\n//             setUser(decoded);\n//         }\n//         fetchItems();\n//     }, []);\n\n//     const fetchItems = async () => {\n//         try {\n//             const url = `${process.env.REACT_APP_API_URL}/api/items`;\n//             const { data } = await axios.get(url);\n//             if (Array.isArray(data)) {\n//                 setItems(data); // Ensure data is an array\n//             } else {\n//                 console.error(\"Fetched data is not an array:\", data);\n//             }\n//         } catch (error) {\n//             console.error(\"Error fetching items:\", error);\n//         }\n//     };\n\n//     const handleChange = ({ currentTarget: input }) => {\n//         setItem({ ...item, [input.name]: input.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const token = localStorage.getItem(\"token\");\n//             const itemData = {\n//                 ...item,\n//                 sellerID: user._id,\n//             };\n\n//             const url = `${process.env.REACT_APP_API_URL}/api/items/add`;\n//             const { data: res } = await axios.post(url, itemData, {\n//                 headers: { \n//                     Authorization: `Bearer ${token}`,\n//                     'Content-Type': 'application/json'\n//                 },\n//             });\n//             setMessage(res.message);\n//             setItem({ name: \"\", price: \"\", description: \"\", category: \"\" });\n//             fetchItems(); // Refresh the items list\n//         } catch (error) {\n//             console.error(\"Error adding item:\", error);\n//             if (error.response && error.response.status >= 400 && error.response.status <= 500) {\n//                 setMessage(error.response.data.message);\n//             }\n//         }\n//     };\n\n//     const handleAddToCart = (item) => {\n//         // Implement the logic to add the item to the cart\n//         console.log(\"Add to cart:\", item);\n//     };\n\n//     const handleLogout = () => {\n//         localStorage.removeItem(\"token\");\n//         window.location.reload();\n//     };\n\n//     return (\n//         <div className={styles.main_container}>\n//             <nav className={styles.navbar}>\n//                 <h1>Flipzon</h1>\n//                 <div className={styles.nav_links}>\n//                     <Link to=\"/\" className={styles.nav_link}>Dashboard</Link>\n//                     <Link to=\"/items\" className={styles.nav_link}>Items</Link>\n//                     <Link to=\"/cart\" className={styles.nav_link}>My Cart</Link>\n//                     <Link to=\"/order-history\" className={styles.nav_link}>Order History</Link>\n//                     <Link to=\"/deliver-item\" className={styles.nav_link}>Deliver Item</Link>\n//                     <Link to=\"/support\" className={styles.nav_link}>Support</Link>\n//                 </div>\n//                 <button className={styles.white_btn} onClick={handleLogout}>\n//                     Logout\n//                 </button>\n//             </nav>\n//             <div className={styles.form_container}>\n//                 <h2>Add New Item</h2>\n//                 <form onSubmit={handleSubmit}>\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Name\"\n//                         name=\"name\"\n//                         onChange={handleChange}\n//                         value={item.name}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"number\"\n//                         placeholder=\"Price\"\n//                         name=\"price\"\n//                         onChange={handleChange}\n//                         value={item.price}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Description\"\n//                         name=\"description\"\n//                         onChange={handleChange}\n//                         value={item.description}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Category\"\n//                         name=\"category\"\n//                         onChange={handleChange}\n//                         value={item.category}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     {message && <div className={styles.message}>{message}</div>}\n//                     <button type=\"submit\" className={styles.green_btn}>\n//                         Add Item\n//                     </button>\n//                 </form>\n//             </div>\n//             <div className={styles.items_container}>\n//                 <h2>Available Items</h2>\n//                 <div className={styles.items_list}>\n//                     {items.map((item) => (\n//                         <div key={item._id} className={styles.item}>\n//                             <h3>{item.name}</h3>\n//                             <p>Price: ${item.price}</p>\n//                             <p>Description: {item.description}</p>\n//                             <p>Category: {item.category}</p>\n//                             <button onClick={() => handleAddToCart(item)} className={styles.green_btn}>\n//                                 Add to Cart\n//                             </button>\n//                         </div>\n//                     ))}\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Items;\nconst mongoose = require(\"mongoose\");\nmodule.exports = () => {\n  const connectionParams = {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  };\n  try {\n    mongoose.connect(process.env.DB, connectionParams);\n    console.log(\"Connected to database successfully\");\n  } catch (error) {\n    console.log(error);\n    console.log(\"Could not connect database!\");\n  }\n};","map":{"version":3,"names":["mongoose","require","module","exports","connectionParams","useNewUrlParser","useUnifiedTopology","connect","process","env","DB","console","log","error"],"sources":["/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/Items/index.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import styles from \"./styles.module.css\";\n// import { Link } from \"react-router-dom\";\n// import { jwtDecode } from \"jwt-decode\";\n\n// const Items = () => {\n//     const [item, setItem] = useState({\n//         name: \"\",\n//         price: \"\",\n//         description: \"\",\n//         category: \"\",\n//     });\n//     const [items, setItems] = useState([]); // Initialize as an empty array\n//     const [message, setMessage] = useState(\"\");\n//     const [user, setUser] = useState(null);\n\n//     useEffect(() => {\n//         const token = localStorage.getItem(\"token\");\n//         if (token) {\n//             const decoded =  jwtDecode(token);\n//             setUser(decoded);\n//         }\n//         fetchItems();\n//     }, []);\n\n//     const fetchItems = async () => {\n//         try {\n//             const url = `${process.env.REACT_APP_API_URL}/api/items`;\n//             const { data } = await axios.get(url);\n//             if (Array.isArray(data)) {\n//                 setItems(data); // Ensure data is an array\n//             } else {\n//                 console.error(\"Fetched data is not an array:\", data);\n//             }\n//         } catch (error) {\n//             console.error(\"Error fetching items:\", error);\n//         }\n//     };\n\n//     const handleChange = ({ currentTarget: input }) => {\n//         setItem({ ...item, [input.name]: input.value });\n//     };\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const token = localStorage.getItem(\"token\");\n//             const itemData = {\n//                 ...item,\n//                 sellerID: user._id,\n//             };\n\n//             const url = `${process.env.REACT_APP_API_URL}/api/items/add`;\n//             const { data: res } = await axios.post(url, itemData, {\n//                 headers: { \n//                     Authorization: `Bearer ${token}`,\n//                     'Content-Type': 'application/json'\n//                 },\n//             });\n//             setMessage(res.message);\n//             setItem({ name: \"\", price: \"\", description: \"\", category: \"\" });\n//             fetchItems(); // Refresh the items list\n//         } catch (error) {\n//             console.error(\"Error adding item:\", error);\n//             if (error.response && error.response.status >= 400 && error.response.status <= 500) {\n//                 setMessage(error.response.data.message);\n//             }\n//         }\n//     };\n\n//     const handleAddToCart = (item) => {\n//         // Implement the logic to add the item to the cart\n//         console.log(\"Add to cart:\", item);\n//     };\n\n//     const handleLogout = () => {\n//         localStorage.removeItem(\"token\");\n//         window.location.reload();\n//     };\n\n//     return (\n//         <div className={styles.main_container}>\n//             <nav className={styles.navbar}>\n//                 <h1>Flipzon</h1>\n//                 <div className={styles.nav_links}>\n//                     <Link to=\"/\" className={styles.nav_link}>Dashboard</Link>\n//                     <Link to=\"/items\" className={styles.nav_link}>Items</Link>\n//                     <Link to=\"/cart\" className={styles.nav_link}>My Cart</Link>\n//                     <Link to=\"/order-history\" className={styles.nav_link}>Order History</Link>\n//                     <Link to=\"/deliver-item\" className={styles.nav_link}>Deliver Item</Link>\n//                     <Link to=\"/support\" className={styles.nav_link}>Support</Link>\n//                 </div>\n//                 <button className={styles.white_btn} onClick={handleLogout}>\n//                     Logout\n//                 </button>\n//             </nav>\n//             <div className={styles.form_container}>\n//                 <h2>Add New Item</h2>\n//                 <form onSubmit={handleSubmit}>\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Name\"\n//                         name=\"name\"\n//                         onChange={handleChange}\n//                         value={item.name}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"number\"\n//                         placeholder=\"Price\"\n//                         name=\"price\"\n//                         onChange={handleChange}\n//                         value={item.price}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Description\"\n//                         name=\"description\"\n//                         onChange={handleChange}\n//                         value={item.description}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     <input\n//                         type=\"text\"\n//                         placeholder=\"Category\"\n//                         name=\"category\"\n//                         onChange={handleChange}\n//                         value={item.category}\n//                         required\n//                         className={styles.input}\n//                     />\n//                     {message && <div className={styles.message}>{message}</div>}\n//                     <button type=\"submit\" className={styles.green_btn}>\n//                         Add Item\n//                     </button>\n//                 </form>\n//             </div>\n//             <div className={styles.items_container}>\n//                 <h2>Available Items</h2>\n//                 <div className={styles.items_list}>\n//                     {items.map((item) => (\n//                         <div key={item._id} className={styles.item}>\n//                             <h3>{item.name}</h3>\n//                             <p>Price: ${item.price}</p>\n//                             <p>Description: {item.description}</p>\n//                             <p>Category: {item.category}</p>\n//                             <button onClick={() => handleAddToCart(item)} className={styles.green_btn}>\n//                                 Add to Cart\n//                             </button>\n//                         </div>\n//                     ))}\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Items;\nconst mongoose = require(\"mongoose\");\n\nmodule.exports = () => {\n    const connectionParams = {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n    };\n    try {\n        mongoose.connect(process.env.DB, connectionParams);\n        console.log(\"Connected to database successfully\");\n    } catch (error) {\n        console.log(error);\n        console.log(\"Could not connect database!\");\n    }\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpCC,MAAM,CAACC,OAAO,GAAG,MAAM;EACnB,MAAMC,gBAAgB,GAAG;IACrBC,eAAe,EAAE,IAAI;IACrBC,kBAAkB,EAAE;EACxB,CAAC;EACD,IAAI;IACAN,QAAQ,CAACO,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,EAAE,EAAEN,gBAAgB,CAAC;IAClDO,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;EACrD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IAClBF,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC9C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}