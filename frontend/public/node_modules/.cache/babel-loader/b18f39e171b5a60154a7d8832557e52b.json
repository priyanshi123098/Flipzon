{"ast":null,"code":"var _jsxFileName = \"/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/EditProfile.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from \"jwt-decode\";\nconst EditProfile = () => {\n  const [data, setData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    age: '',\n    contactNumber: ''\n  });\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const decoded = jwtDecode(token);\n      setData({\n        firstName: decoded.firstName,\n        lastName: decoded.lastName,\n        email: decoded.email,\n        age: decoded.age,\n        contactNumber: decoded.contactNumber\n      });\n    } else {\n      navigate('/login');\n    }\n  }, [navigate]);\n  const handleChange = ({\n    currentTarget: input\n  }) => {\n    setData({\n      ...data,\n      [input.name]: input.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const url = `${process.env.REACT_APP_API_URL}/api/users/update-profile`;\n      const {\n        data: res\n      } = await axios.put(url, data, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      localStorage.setItem('token', res.data); // Update token with new details\n      navigate('/');\n    } catch (error) {\n      if (error.response && error.response.status >= 400 && error.response.status <= 500) {\n        setError(error.response.data.message);\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.edit_profile_container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.form_container,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"First Name\",\n    name: \"firstName\",\n    onChange: handleChange,\n    value: data.firstName,\n    required: true,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Last Name\",\n    name: \"lastName\",\n    onChange: handleChange,\n    value: data.lastName,\n    required: true,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    onChange: handleChange,\n    value: data.email,\n    required: true,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    placeholder: \"Age\",\n    name: \"age\",\n    onChange: handleChange,\n    value: data.age,\n    required: true,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Contact Number\",\n    name: \"contactNumber\",\n    onChange: handleChange,\n    value: data.contactNumber,\n    required: true,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.error_msg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 27\n    }\n  }, error), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: styles.green_btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"Save Changes\")));\n};\nexport default EditProfile;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jwtDecode","EditProfile","data","setData","firstName","lastName","email","age","contactNumber","error","setError","navigate","token","localStorage","getItem","decoded","handleChange","currentTarget","input","name","value","handleSubmit","e","preventDefault","url","process","env","REACT_APP_API_URL","res","put","headers","Authorization","setItem","response","status","message","createElement","className","styles","edit_profile_container","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","form_container","onSubmit","type","placeholder","onChange","required","error_msg","green_btn"],"sources":["/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/EditProfile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from \"jwt-decode\";\n\nconst EditProfile = () => {\n    const [data, setData] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        age: '',\n        contactNumber: ''\n    });\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            const decoded = jwtDecode(token);\n            setData({\n                firstName: decoded.firstName,\n                lastName: decoded.lastName,\n                email: decoded.email,\n                age: decoded.age,\n                contactNumber: decoded.contactNumber\n            });\n        } else {\n            navigate('/login');\n        }\n    }, [navigate]);\n\n    const handleChange = ({ currentTarget: input }) => {\n        setData({ ...data, [input.name]: input.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const token = localStorage.getItem('token');\n            const url = `${process.env.REACT_APP_API_URL}/api/users/update-profile`;\n            const { data: res } = await axios.put(url, data, {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            localStorage.setItem('token', res.data); // Update token with new details\n            navigate('/');\n        } catch (error) {\n            if (\n                error.response &&\n                error.response.status >= 400 &&\n                error.response.status <= 500\n            ) {\n                setError(error.response.data.message);\n            }\n        }\n    };\n\n    return (\n        <div className={styles.edit_profile_container}>\n            <form className={styles.form_container} onSubmit={handleSubmit}>\n                <h1>Edit Profile</h1>\n                <input\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    name=\"firstName\"\n                    onChange={handleChange}\n                    value={data.firstName}\n                    required\n                    className={styles.input}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    name=\"lastName\"\n                    onChange={handleChange}\n                    value={data.lastName}\n                    required\n                    className={styles.input}\n                />\n                <input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    onChange={handleChange}\n                    value={data.email}\n                    required\n                    className={styles.input}\n                />\n                <input\n                    type=\"number\"\n                    placeholder=\"Age\"\n                    name=\"age\"\n                    onChange={handleChange}\n                    value={data.age}\n                    required\n                    className={styles.input}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Contact Number\"\n                    name=\"contactNumber\"\n                    onChange={handleChange}\n                    value={data.contactNumber}\n                    required\n                    className={styles.input}\n                />\n                {error && <div className={styles.error_msg}>{error}</div>}\n                <button type=\"submit\" className={styles.green_btn}>\n                    Save Changes\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default EditProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}