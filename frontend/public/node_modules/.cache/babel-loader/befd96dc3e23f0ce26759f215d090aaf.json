{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import styles from './styles.module.css';\n\n// const Chat = () => {\n//     const [messages, setMessages] = useState([]);\n//     const [input, setInput] = useState('');\n\n//     useEffect(() => {\n//         // Start a new session when the component mounts\n//         setMessages([{ sender: 'bot', text: 'Hello! How can I assist you today?' }]);\n//     }, []);\n\n//     const handleInputChange = (e) => {\n//         setInput(e.target.value);\n//     };\n\n//     // const handleSend = async () => {\n//     //     if (input.trim() === '') return;\n\n//     //     const newMessage = { sender: 'user', text: input };\n//     //     setMessages([...messages, newMessage]);\n//     //     setInput('');\n\n//     //     try {\n//     //         const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//     //             message: input,\n//     //             conversation: messages,\n//     //         });\n//     //         const botMessage = { sender: 'bot', text: response.data.reply };\n//     //         setMessages((prevMessages) => [...prevMessages, botMessage]);\n//     //     } catch (error) {\n//     //         console.error('Error sending message:', error);\n//     //     }\n//     // };\n//     // const handleSend = async () => {\n\n//     //     if (input.trim() === '') return;\n//     //     const newMessage = { sender: 'user', text: input };\n//     //     setMessages([...messages, newMessage]);\n//     //     setInput('');\n//     //     console.log('Messages before API call:', messages);\n//     //     try {\n//     //         const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//     //             message: input,\n//     //             conversation: messages,\n//     //         });\n//     //         console.log('API response:', response.data);\n//     //         const botMessage = { sender: 'bot', text: response.data.reply };\n//     //         setMessages((prevMessages) => [...prevMessages, botMessage]);\n\n//     //     } catch (error) {\n\n//     //         console.error('Error sending message:', error);\n\n//     //     }\n\n//     // };\n//     const handleSend = async () => {\n//         if (input.trim() === '') return;\n\n//         const newMessage = { sender: 'user', text: input };\n//         setMessages((prevMessages) => [...prevMessages, newMessage]); // Update state with the new user message\n//         setInput('');\n\n//         try {\n//             const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//                 message: input,\n//                 conversation: [...messages, newMessage], // Include the new message in the conversation\n//             });\n\n//             const botMessage = { sender: 'bot', text: response.data.reply };\n//             setMessages((prevMessages) => [...prevMessages, botMessage]); // Update state with the bot's response\n\n//         } catch (error) {\n//             console.error('Error sending message:', error);\n//         }\n//     };\n\n//     return (\n//         <div className={styles.chat_container}>\n//             <div className={styles.chat_window}>\n//                 {messages.map((msg, index) => (\n//                     <div key={index} className={msg.sender === 'bot' ? styles.bot_message : styles.user_message}>\n//                         {msg.text}\n//                     </div>\n//                 ))}\n//             </div>\n//             <div className={styles.input_container}>\n//                 <input\n//                     type=\"text\"\n//                     value={input}\n//                     onChange={handleInputChange}\n//                     placeholder=\"Type your message...\"\n//                     className={styles.input}\n//                 />\n//                 <button onClick={handleSend} className={styles.send_button}>\n//                     Send\n//                 </button>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Chat;","map":{"version":3,"names":[],"sources":["/home/priyanshi/Desktop/sem4/DASS/project1/client/src/components/Support/Chat.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import axios from 'axios';\n// import styles from './styles.module.css';\n\n// const Chat = () => {\n//     const [messages, setMessages] = useState([]);\n//     const [input, setInput] = useState('');\n\n//     useEffect(() => {\n//         // Start a new session when the component mounts\n//         setMessages([{ sender: 'bot', text: 'Hello! How can I assist you today?' }]);\n//     }, []);\n\n//     const handleInputChange = (e) => {\n//         setInput(e.target.value);\n//     };\n\n//     // const handleSend = async () => {\n//     //     if (input.trim() === '') return;\n\n//     //     const newMessage = { sender: 'user', text: input };\n//     //     setMessages([...messages, newMessage]);\n//     //     setInput('');\n\n//     //     try {\n//     //         const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//     //             message: input,\n//     //             conversation: messages,\n//     //         });\n//     //         const botMessage = { sender: 'bot', text: response.data.reply };\n//     //         setMessages((prevMessages) => [...prevMessages, botMessage]);\n//     //     } catch (error) {\n//     //         console.error('Error sending message:', error);\n//     //     }\n//     // };\n//     // const handleSend = async () => {\n\n//     //     if (input.trim() === '') return;\n//     //     const newMessage = { sender: 'user', text: input };\n//     //     setMessages([...messages, newMessage]);\n//     //     setInput('');\n//     //     console.log('Messages before API call:', messages);\n//     //     try {\n//     //         const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//     //             message: input,\n//     //             conversation: messages,\n//     //         });\n//     //         console.log('API response:', response.data);\n//     //         const botMessage = { sender: 'bot', text: response.data.reply };\n//     //         setMessages((prevMessages) => [...prevMessages, botMessage]);\n\n//     //     } catch (error) {\n\n//     //         console.error('Error sending message:', error);\n\n//     //     }\n\n//     // };\n//     const handleSend = async () => {\n//         if (input.trim() === '') return;\n    \n//         const newMessage = { sender: 'user', text: input };\n//         setMessages((prevMessages) => [...prevMessages, newMessage]); // Update state with the new user message\n//         setInput('');\n    \n//         try {\n//             const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/chat`, {\n//                 message: input,\n//                 conversation: [...messages, newMessage], // Include the new message in the conversation\n//             });\n    \n//             const botMessage = { sender: 'bot', text: response.data.reply };\n//             setMessages((prevMessages) => [...prevMessages, botMessage]); // Update state with the bot's response\n    \n//         } catch (error) {\n//             console.error('Error sending message:', error);\n//         }\n//     };\n\n//     return (\n//         <div className={styles.chat_container}>\n//             <div className={styles.chat_window}>\n//                 {messages.map((msg, index) => (\n//                     <div key={index} className={msg.sender === 'bot' ? styles.bot_message : styles.user_message}>\n//                         {msg.text}\n//                     </div>\n//                 ))}\n//             </div>\n//             <div className={styles.input_container}>\n//                 <input\n//                     type=\"text\"\n//                     value={input}\n//                     onChange={handleInputChange}\n//                     placeholder=\"Type your message...\"\n//                     className={styles.input}\n//                 />\n//                 <button onClick={handleSend} className={styles.send_button}>\n//                     Send\n//                 </button>\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Chat;"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module"}